{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Gard%20Eau%20Arbres/Desktop/genesis/components/ThreatMonitor.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\r\nimport { geminiService } from '../services/geminiService';\r\nimport { GroundingChunk, ThreatTrajectory } from '../types';\r\nimport { memory } from '../services/memory';\r\nimport { sfx } from '../services/sfx';\r\n\r\ninterface Incident {\r\n  id: string;\r\n  type: string;\r\n  origin: string;\r\n  risk: number;\r\n  status: 'DETECTED' | 'NEUTRALIZING' | 'PURGED' | 'MITIGATING';\r\n  isReal: boolean;\r\n  neutralizationLog?: string;\r\n}\r\n\r\ninterface ThreatMonitorProps {\r\n  onTrackThreat?: (trajectory: ThreatTrajectory) => void;\r\n}\r\n\r\nconst ThreatMonitor: React.FC<ThreatMonitorProps> = ({ onTrackThreat }) => {\r\n  const [incidents, setIncidents] = useState<Incident[]>([]);\r\n  const [sources, setSources] = useState<GroundingChunk[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [lastScan, setLastScan] = useState<string>('');\r\n  const [neutralizedCount, setNeutralizedCount] = useState(0);\r\n  \r\n  // Vertex AI State\r\n  const [vertexConnected, setVertexConnected] = useState(false);\r\n  const [predictionData, setPredictionData] = useState<any[]>([]);\r\n\r\n  const activeThreats = incidents.filter(i => i.status === 'DETECTED' || i.status === 'NEUTRALIZING').length;\r\n  const purgedThreats = incidents.filter(i => i.status === 'PURGED').length;\r\n  const totalThreats = incidents.length || 1;\r\n  const healthPercentage = (purgedThreats / totalThreats) * 100;\r\n\r\n  // Simulation de la connexion Vertex à l'init\r\n  useEffect(() => {\r\n    // On simule une vérification de la clé IAM fournie\r\n    setTimeout(() => {\r\n        setVertexConnected(true);\r\n        generatePredictionData();\r\n    }, 1500);\r\n  }, []);\r\n\r\n  // Générateur de données prédictives (Simulation AutoML)\r\n  const generatePredictionData = () => {\r\n    const data = [];\r\n    let baseRisk = 30;\r\n    for (let i = 0; i < 20; i++) {\r\n        baseRisk += (Math.random() - 0.45) * 15;\r\n        baseRisk = Math.max(5, Math.min(95, baseRisk));\r\n        data.push({\r\n            time: `T+${i*5}m`,\r\n            risk: Math.round(baseRisk),\r\n            predicted: true\r\n        });\r\n    }\r\n    setPredictionData(data);\r\n  };\r\n\r\n  const fetchIntelligence = async () => {\r\n    setLoading(true);\r\n    sfx.playData();\r\n    try {\r\n      const result = await geminiService.fetchRealWorldThreats();\r\n      const mapped = result.data.map((i: any) => ({ \r\n        ...i, \r\n        isReal: true, \r\n        status: i.status === 'PURGED' ? 'PURGED' : 'DETECTED' \r\n      }));\r\n      setIncidents(mapped);\r\n      setSources(result.sources);\r\n      setLastScan(new Date().toLocaleTimeString());\r\n      \r\n      // Update predictions on new scan\r\n      if (vertexConnected) generatePredictionData();\r\n\r\n    } catch (error) {\r\n      console.error(\"Échec de l'intelligence réelle:\", error);\r\n      generateSimulatedIncidents();\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const generateSimulatedIncidents = () => {\r\n    const types = ['Shor Injection', 'Lattice Collision', 'Entropy Drain', 'Neural Poisoning'];\r\n    const origins = ['Réseau Obscur', 'Noeud 02 - Compromis', 'Uplink Inconnu', 'Brèche Temporelle'];\r\n    const sims = Array.from({ length: 4 }).map(() => ({\r\n      id: Math.random().toString(36).substring(7).toUpperCase(),\r\n      type: types[Math.floor(Math.random() * types.length)],\r\n      origin: origins[Math.floor(Math.random() * origins.length)],\r\n      risk: Math.floor(60 + Math.random() * 40),\r\n      status: 'DETECTED' as const,\r\n      isReal: false\r\n    }));\r\n    setIncidents(sims);\r\n  };\r\n\r\n  const exterminateThreat = async (id: string) => {\r\n    const incident = incidents.find(i => i.id === id);\r\n    if (!incident || incident.status !== 'DETECTED') return;\r\n\r\n    setIncidents(prev => prev.map(i => i.id === id ? { ...i, status: 'NEUTRALIZING' } : i));\r\n    sfx.playData();\r\n\r\n    try {\r\n      const strategy = await geminiService.neutralizeThreat(incident.type, incident.origin);\r\n      const patchData = await geminiService.generateSecurityPatch(incident.type);\r\n      await new Promise(r => setTimeout(r, 2000));\r\n      await memory.save({\r\n        type: 'evolution',\r\n        content: `PATCH DE SÉCURITÉ: ${incident.type}`,\r\n        metadata: {\r\n            iq_increment: 2,\r\n            code: patchData.countermeasure_code || '// PATCH VIDE',\r\n            audit: `Neutralisation auto: ${incident.id}`,\r\n            proof: `SIG_${Math.random().toString(36).slice(5)}`,\r\n            merkle_root: `PATCH_${incident.id}`\r\n        }\r\n      });\r\n      setIncidents(prev => prev.map(i => i.id === id ? { \r\n        ...i, status: 'PURGED', risk: 0, neutralizationLog: strategy \r\n      } : i));\r\n      setNeutralizedCount(prev => prev + 1);\r\n      sfx.playConfirm();\r\n      window.dispatchEvent(new CustomEvent('genesis-security-event', { \r\n        detail: { message: `MENACE EXTERMINÉE : ${incident.id} - Patch Assimilé.`, type: 'audit' } \r\n      }));\r\n    } catch (e) {\r\n      sfx.playAlert();\r\n      setIncidents(prev => prev.map(i => i.id === id ? { ...i, status: 'DETECTED' } : i));\r\n    }\r\n  };\r\n\r\n  const trackThreat = (incident: Incident) => {\r\n      if (!onTrackThreat) return;\r\n      sfx.playBlip();\r\n      \r\n      // Génération d'une trajectoire simulée (Courbe de Bézier simplifiée)\r\n      const startLat = 30 + Math.random() * 20;\r\n      const startLng = -100 + Math.random() * 50;\r\n      const endLat = 40 + Math.random() * 10;\r\n      const endLng = 0 + Math.random() * 20;\r\n      \r\n      const waypoints: [number, number][] = [];\r\n      const steps = 20;\r\n      for (let i = 0; i <= steps; i++) {\r\n          const t = i / steps;\r\n          // Interpolation linéaire avec un peu de bruit pour faire \"organique\"\r\n          const lat = startLat + (endLat - startLat) * t + Math.sin(t * Math.PI) * 5;\r\n          const lng = startLng + (endLng - startLng) * t + Math.cos(t * Math.PI) * 5;\r\n          waypoints.push([lat, lng]);\r\n      }\r\n\r\n      onTrackThreat({\r\n          id: incident.id,\r\n          originLabel: incident.origin,\r\n          coordinates: waypoints,\r\n          riskLevel: incident.risk\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchIntelligence();\r\n    const interval = setInterval(fetchIntelligence, 300000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"space-y-6 md:space-y-8 animate-fadeIn h-full flex flex-col\">\r\n      <header className=\"flex flex-col lg:flex-row justify-between items-start lg:items-end gap-6\">\r\n        <div>\r\n          <h2 className=\"text-3xl md:text-4xl font-bold font-heading mb-2\">Menaces PQC</h2>\r\n          <p className=\"text-gray-400 font-mono text-xs uppercase tracking-widest\">Moniteur de Menaces Quantiques Temps Réel</p>\r\n        </div>\r\n        <div className=\"flex flex-wrap gap-4 w-full lg:w-auto\">\r\n          <div className=\"bg-red-500/10 border border-red-500/30 px-6 py-2 rounded-xl text-right flex-1 lg:flex-none\">\r\n             <p className=\"text-[10px] text-red-500 uppercase font-bold tracking-widest\">Infections</p>\r\n             <p className=\"text-xl font-mono text-red-500 animate-pulse\">{activeThreats}</p>\r\n          </div>\r\n          <div className=\"bg-green-500/10 border border-green-500/30 px-6 py-2 rounded-xl text-right flex-1 lg:flex-none\">\r\n             <p className=\"text-[10px] text-green-500 uppercase font-bold tracking-widest\">Purges</p>\r\n             <p className=\"text-xl font-mono text-green-500\">{purgedThreats + neutralizedCount}</p>\r\n          </div>\r\n          <button \r\n            onClick={fetchIntelligence}\r\n            disabled={loading}\r\n            className=\"w-full lg:w-auto px-8 py-3 bg-blue-600 rounded-xl font-bold hover:bg-blue-500 transition-all uppercase text-[10px] tracking-widest disabled:opacity-50 flex items-center justify-center gap-3 shadow-[0_0_20px_rgba(37,99,235,0.3)]\"\r\n          >\r\n            {loading && <div className=\"w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin\"></div>}\r\n            LANCER SCAN\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      {/* --- VERTEX AI PREDICTIVE MODULE --- */}\r\n      <div className=\"glass p-1 rounded-3xl border-white/5 bg-black/40 relative overflow-hidden\">\r\n         <div className=\"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-purple-500 to-blue-500 opacity-50\"></div>\r\n         <div className=\"p-6 md:p-8 flex flex-col lg:flex-row gap-8\">\r\n            <div className=\"lg:w-1/3 space-y-4\">\r\n                <div className=\"flex items-center gap-3 mb-2\">\r\n                    <div className={`p-2 rounded-lg ${vertexConnected ? 'bg-purple-900/30 text-purple-400' : 'bg-gray-800 text-gray-500'}`}>\r\n                        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" /></svg>\r\n                    </div>\r\n                    <div>\r\n                        <h3 className=\"text-sm font-bold text-white uppercase tracking-wider\">Vertex Predictive AI</h3>\r\n                        <p className=\"text-[10px] text-gray-500 font-mono\">{vertexConnected ? 'CONNEXION IAM ÉTABLIE' : 'INITIALISATION...'}</p>\r\n                    </div>\r\n                </div>\r\n                <p className=\"text-[11px] text-gray-400 leading-relaxed\">\r\n                    Le moteur AutoML analyse les vecteurs d'attaque historiques pour projeter les probabilités de brèche dans les 90 prochaines minutes.\r\n                </p>\r\n                <div className=\"flex gap-2 mt-4\">\r\n                    <div className=\"px-3 py-1 bg-purple-500/10 border border-purple-500/20 rounded text-[9px] font-mono text-purple-300\">Modèle: Sec-PaLM-2</div>\r\n                    <div className=\"px-3 py-1 bg-blue-500/10 border border-blue-500/20 rounded text-[9px] font-mono text-blue-300\">Confiance: 94.2%</div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"lg:w-2/3 h-48 bg-black/20 rounded-xl border border-white/5 relative\">\r\n                {vertexConnected ? (\r\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                        <AreaChart data={predictionData}>\r\n                            <defs>\r\n                                <linearGradient id=\"riskGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                                    <stop offset=\"5%\" stopColor=\"#a855f7\" stopOpacity={0.3}/>\r\n                                    <stop offset=\"95%\" stopColor=\"#a855f7\" stopOpacity={0}/>\r\n                                </linearGradient>\r\n                            </defs>\r\n                            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#ffffff10\" vertical={false} />\r\n                            <XAxis dataKey=\"time\" hide />\r\n                            <YAxis hide domain={[0, 100]} />\r\n                            <Tooltip \r\n                                contentStyle={{ background: '#000', border: '1px solid #333', borderRadius: '8px', fontSize: '10px' }}\r\n                                itemStyle={{ color: '#d8b4fe' }}\r\n                                formatter={(value: any) => [`${value}%`, 'Risque']}\r\n                            />\r\n                            <Area type=\"monotone\" dataKey=\"risk\" stroke=\"#a855f7\" fill=\"url(#riskGradient)\" strokeWidth={2} />\r\n                        </AreaChart>\r\n                    </ResponsiveContainer>\r\n                ) : (\r\n                    <div className=\"absolute inset-0 flex items-center justify-center flex-col gap-2\">\r\n                         <div className=\"w-8 h-8 border-2 border-purple-500/30 border-t-purple-500 rounded-full animate-spin\"></div>\r\n                         <span className=\"text-[9px] font-mono text-purple-500/50 uppercase\">Négociation des clés...</span>\r\n                    </div>\r\n                )}\r\n            </div>\r\n         </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6 md:gap-8 flex-1 min-h-0\">\r\n        <div className=\"lg:col-span-3 glass rounded-3xl overflow-hidden flex flex-col border-white/5 bg-black/40 shadow-inner min-h-[400px]\">\r\n          <div className=\"p-4 border-b border-white/5 bg-white/5 flex justify-between items-center px-4 md:px-8\">\r\n            <span className=\"text-[10px] font-bold text-gray-500 uppercase tracking-[0.4em]\">Matrice d'Engagement</span>\r\n            <div className=\"flex items-center gap-4\">\r\n               <span className=\"hidden md:inline text-[9px] text-gray-600 font-mono uppercase tracking-widest\">Liaison : OK</span>\r\n               <div className={`w-2 h-2 rounded-full ${loading ? 'bg-blue-500 animate-pulse' : 'bg-green-500'}`}></div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-8 space-y-4 md:space-y-6\">\r\n            {incidents.map((incident) => (\r\n              <div \r\n                key={incident.id} \r\n                className={`group relative p-4 md:p-6 rounded-3xl border transition-all duration-500 ${\r\n                incident.status === 'PURGED' ? 'bg-green-500/5 border-green-500/30' : \r\n                incident.status === 'NEUTRALIZING' ? 'bg-amber-500/5 border-amber-500/40 animate-pulse' : \r\n                'bg-red-500/5 border-red-500/30 hover:bg-red-500/10'\r\n                }`}\r\n                onMouseEnter={() => window.dispatchEvent(new CustomEvent('genesis-interaction', { detail: `THREAT_ANALYSIS: ${incident.type} [${incident.id}]` }))}\r\n              >\r\n                <div className=\"flex flex-col md:flex-row items-start md:items-center justify-between gap-4\">\r\n                  <div className=\"flex items-center gap-4 md:gap-8\">\r\n                    <div className=\"relative\">\r\n                      <div className={`w-12 h-12 md:w-14 md:h-14 rounded-2xl flex items-center justify-center font-mono font-bold text-xs ${incident.status === 'PURGED' ? 'bg-green-500/20 text-green-500' : 'bg-red-500/20 text-red-500'}`}>\r\n                        {incident.id.slice(0,4)}\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <h4 className={`font-bold text-sm md:text-lg uppercase tracking-widest flex flex-wrap items-center gap-2 md:gap-3 ${incident.status === 'PURGED' ? 'text-green-500' : 'text-red-500'}`}>\r\n                        {incident.type}\r\n                        {incident.status === 'PURGED' && <span className=\"text-[9px] bg-green-600 px-2 py-0.5 rounded text-white font-mono\">NEUTRALISÉ</span>}\r\n                      </h4>\r\n                      <p className=\"text-[10px] text-gray-600 font-mono mt-1 uppercase\">SOURCE: {incident.origin}</p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center gap-3 md:gap-4 w-full md:w-auto justify-end\">\r\n                    {incident.status !== 'PURGED' && (\r\n                      <div className=\"text-right hidden sm:block mr-4\">\r\n                        <p className=\"text-[8px] uppercase font-bold tracking-widest mb-1 text-red-500\">Impact</p>\r\n                        <span className=\"text-xs font-mono font-bold text-red-500\">{incident.risk}%</span>\r\n                      </div>\r\n                    )}\r\n                    \r\n                    {/* BOUTON TRAJECTOIRE */}\r\n                    {incident.status === 'DETECTED' && (\r\n                        <button \r\n                            onClick={() => trackThreat(incident)}\r\n                            className=\"px-4 py-3 rounded-2xl text-[10px] font-bold uppercase tracking-widest bg-blue-600/10 border border-blue-500/40 text-blue-400 hover:bg-blue-600 hover:text-white transition-all flex items-center gap-2\"\r\n                        >\r\n                            <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7\" /></svg>\r\n                            TRAQUE\r\n                        </button>\r\n                    )}\r\n\r\n                    <button onClick={() => exterminateThreat(incident.id)} disabled={incident.status !== 'DETECTED'} className={`px-4 md:px-6 py-3 rounded-2xl text-[10px] font-bold transition-all uppercase tracking-widest border ${incident.status === 'PURGED' ? 'border-green-500/20 text-green-500 bg-green-500/10 cursor-default' : 'bg-red-600/10 border-red-500/40 text-red-500 hover:bg-red-600 hover:text-white'}`}>\r\n                      {incident.status === 'PURGED' ? 'TERMINÉ' : incident.status === 'NEUTRALIZING' ? 'PURGE...' : 'TERMINER'}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                {incident.neutralizationLog && (\r\n                  <div className=\"mt-4 pt-4 border-t border-white/5\">\r\n                    <p className=\"text-[9px] font-bold text-green-500 uppercase mb-2 tracking-[0.2em]\">Rapport de Combat :</p>\r\n                    <p className=\"text-[10px] text-gray-500 font-mono italic leading-relaxed bg-black/40 p-3 rounded-xl border border-green-500/10\">{incident.neutralizationLog}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex flex-col gap-6\">\r\n          <div className=\"glass p-6 rounded-3xl bg-green-600/5 border border-green-500/10 flex flex-col h-full min-h-[200px]\">\r\n            <h3 className=\"text-xs font-bold text-green-500 uppercase tracking-widest mb-6 flex items-center justify-between\">Registre de Purge</h3>\r\n            <div className=\"flex-1 overflow-y-auto custom-scrollbar space-y-4 pr-2\">\r\n              {incidents.filter(i => i.status === 'PURGED').map((inc, i) => (\r\n                <div key={i} className=\"p-4 bg-black/40 rounded-2xl border border-green-500/20\">\r\n                  <div className=\"flex justify-between items-center mb-2\">\r\n                    <span className=\"text-[10px] font-bold text-green-500 uppercase font-mono\">{inc.id}</span>\r\n                    <span className=\"text-[8px] text-green-500/50 font-mono\">PURGED</span>\r\n                  </div>\r\n                  <p className=\"text-[9px] text-gray-500 truncate italic\">{inc.type}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThreatMonitor;\r\n"],"names":[],"mappings":"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"}}]
}